(this["webpackJsonpcaw-blog-app"]=this["webpackJsonpcaw-blog-app"]||[]).push([[0],{66:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(19),a=n.n(c),r=n(15),l=n(25),i=n(6),o=n(33),s=n(0),d=n.n(s),j=n(93),u=n(70),b=n(96),h=n(94),O=n(45),p=n.n(O),f=n(90),m=n(92),g=n(2);function x(e){var t=e.title,n=e.body,c=e.email,a=e.id,r=e.clickable;return Object(g.jsx)(f.a,{className:"card",style:c&&{margin:"10px",maxWidth:"100%"},children:Object(g.jsx)("div",{className:"card-container",children:r?Object(g.jsx)(l.b,{target:"_blank",to:{pathname:"/"+a},children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)("h4",{"aria-label":"blog title",children:t}),Object(g.jsx)("p",{className:"content","aria-label":"message",children:n})]})},"link-"+a):Object(g.jsxs)(m.a,{children:[Object(g.jsx)("h4",{"aria-label":"blog title",children:t}),c&&Object(g.jsx)("a",{href:"mailto:".concat(c),children:c}),Object(g.jsx)("p",{className:"content","aria-label":"message",children:n})]})})})}var v=d.a.memo(x);var T=function(e){return Object(g.jsx)("header",{align:"center",children:e.children})},E={TITLE:"Blog App",LOAD_COMMENTS:"Load Comments",COMMENTS:"Comments",SET_BLOGS:"GET_BLOGS",SET_POST:"GET_POST",SET_COMMENTS:"GET_COMMENTS",FILTER_BLOGS:"FILTER_BLOGS",SET_SEARCH_BLOG_TEXT:"SET_SEARCH_BLOG_TEXT",BLOG_URL:"https://jsonplaceholder.typicode.com/posts/",COMMENTS_URL:"https://jsonplaceholder.typicode.com/comments?postId="},S=function(e){return{type:E.FILTER_BLOGS,payload:e}},_=Object(j.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,margin:"0 auto"},input:{marginLeft:8,flex:1},iconButton:{padding:10}});var y=function(){var e=_(),t=Object(r.c)(),n=Object(r.d)((function(e){return e.blogs})),c=Object(r.d)((function(e){return e.filteredBlog})),a=Object(r.d)((function(e){return e.searchBlog}));Object(s.useEffect)((function(){fetch(E.BLOG_URL).then((function(e){return e.json()})).then((function(e){Object(r.b)((function(){t(function(e){return{type:E.SET_BLOGS,payload:e}}(e)),t(S(e))}))})).catch((function(e){return console.log(e)}))}),[t]);var l=function(e){if(!e.key||"Enter"===e.key)if(a){var c=n.filter((function(e){var t;return null===(t=e.title)||void 0===t?void 0:t.toLocaleLowerCase().includes(a.toLocaleLowerCase())}));t(S(c))}else t(S(n))};return Object(g.jsxs)(d.a.Fragment,{children:[Object(g.jsx)(T,{children:Object(g.jsx)("h1",{className:"header",align:"center",children:"Blogs"})}),Object(g.jsx)("div",{className:"searchbar",children:Object(g.jsxs)(u.a,{className:e.root,children:[Object(g.jsx)(b.a,{className:e.input,placeholder:"Search Blogs",onKeyDown:l,"aria-label":"Search Blogs",onChange:function(e){return t((n=e.target.value,{type:E.SET_SEARCH_BLOG_TEXT,payload:n}));var n}}),Object(g.jsx)(h.a,{className:e.iconButton,"aria-label":"Search",onClick:l,children:Object(g.jsx)(p.a,{})})]})}),c.length>0&&c.map((function(e){return Object(g.jsx)(v,{title:null===e||void 0===e?void 0:e.title,body:null===e||void 0===e?void 0:e.body,id:null===e||void 0===e?void 0:e.id,clickable:!0},null===e||void 0===e?void 0:e.id)}))]})},L=n(95);var B=function(){var e=Object(r.c)(),t=Object(r.d)((function(e){return e.post})),n=Object(r.d)((function(e){return e.comments})),c=Object(i.f)().pathname;c=(c=c.split("/"))[1],Object(s.useEffect)((function(){fetch(E.BLOG_URL+c).then((function(e){return e.json()})).then((function(t){return e({type:E.SET_POST,payload:t})})).catch((function(e){return console.log(e)}))}),[c,e]);var a=Object(s.useCallback)((function(){fetch(E.COMMENTS_URL+c).then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:E.SET_COMMENTS,payload:e}}(t))})).catch((function(e){return console.log(e)}))}),[c,e]);return t.title?Object(g.jsxs)("div",{children:[Object(g.jsx)(o.a,{children:Object(g.jsx)("title",{children:t.title})}),Object(g.jsx)("h2",{"aria-label":"blog name",children:t.title}),Object(g.jsx)("p",{"aria-label":"blog content",children:t.body}),n.length>0?Object(g.jsxs)(d.a.Fragment,{children:[Object(g.jsx)("h3",{children:E.COMMENTS}),n.map((function(e){return Object(g.jsx)(v,{body:e.body,title:e.name,email:e.email,id:e.id},e.id)}))]}):Object(g.jsx)(L.a,{"aria-label":"load comments",variant:"contained",color:"primary",onClick:a,children:E.LOAD_COMMENTS})]}):Object(g.jsx)(g.Fragment,{})};n(66);var C,M=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(o.a,{children:Object(g.jsx)("title",{children:E.TITLE})}),Object(g.jsx)(l.a,{children:Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{exact:!0,path:"/",component:y}),Object(g.jsx)(i.a,{exact:!0,path:"/*",component:B})]})})]})},N=n(29),G=n(46),k=(n(67),Object(N.b)({blogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_BLOGS:e=t.payload;break;default:return e}return e},filteredBlog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.FILTER_BLOGS:e=t.payload;break;default:return e}return e},searchBlog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_SEARCH_BLOG_TEXT:e=t.payload;break;default:return e}return e},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_POST:e=t.payload;break;default:return e}return e},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_COMMENTS:e=t.payload;break;default:return e}return e}}));C=Object(N.a)(G.a);var w=Object(N.c)(k,C);a.a.render(Object(g.jsx)(r.a,{store:w,children:Object(g.jsx)(M,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.3d867632.chunk.js.map